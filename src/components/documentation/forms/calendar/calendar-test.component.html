<jnt-container>
  <h1 i18n="@@label.calendar">Calendar</h1>
  <jnt-stack resources [type]="ui.layout.stack.type.horizontal">
    <jnt-link [icon]="ui.icons.gitlab"
              source="https://gitlab.com/junte/junte-ui/tree/master/projects/junte-ui/src/lib/components/forms/calendar"
              target="_blank" title="GitLab">
    </jnt-link>
    <jnt-link [icon]="ui.icons.figma"
              source="https://www.figma.com/file/EIUNwZCXL9Nm5BKQKl43mfDr/Junte-UI-v1?node-id=1824%3A3416"
              target="_blank" title="Figma">
    </jnt-link>
  </jnt-stack>
  <h3 i18n="@@label.requirements">Requirements</h3>

  <ol>
    <li>The day and arrows in calendar should respond to mouse hover, click</li>
    <li>Metrics can be added to the calendar</li>
    <li>The current day should always be highlighted</li>
    <li>The current week should be highlighted</li>
    <li>Selected day should be highlighted</li>
    <li>Weekend should be highlighted</li>
  </ol>

  <h3 i18n="@@label.playground">Playground</h3>
  <jnt-tabs playground>
    <jnt-tab title="Preview"
             i18n-title="@@label.preview"
             [icon]="localUi.icons.preview">
      <ng-template #tabContentTemplate>
        <jnt-row>
          <jnt-col [tablet]="8">
            <app-browser-preview>
              <ng-template #document>
                <form [formGroup]="calendarForm">
                  <jnt-calendar formControlName="calendar" (updated)="period = $event"
                                [year]="yearControl.value"
                                [month]="monthControl.value">
                    <ng-container *ngIf="metricsControl.value">
                      <ng-template #calendarMetricTemplate let-metric="metric" let-date="date">
                        <ng-container [ngSwitch]="metric">
                          <ng-container *ngSwitchCase="0">
                            40m
                          </ng-container>
                          <ng-container *ngSwitchCase="1">
                            10km
                          </ng-container>
                          <ng-container *ngSwitchCase="2">
                            3000
                          </ng-container>
                        </ng-container>
                      </ng-template>
                      <jnt-week-metric title="Time"
                                       i18n-title="@@label.time"></jnt-week-metric>
                      <jnt-week-metric title="Distance"
                                       i18n-title="@@label.distance"></jnt-week-metric>
                      <jnt-week-metric title="Сalories"
                                       i18n-title="@@label.calories"></jnt-week-metric>
                    </ng-container>
                    <ng-template *ngIf="dayControl.value" #calendarDayTemplate let-date="date">
                      <div day>{{date | dfnsGetDate}}</div>
                    </ng-template>
                  </jnt-calendar>
                </form>
                <div *ngIf="calendarControl.value"
                     i18n="@@label.you_choose">You choose: {{calendarControl.value | dfnsFormat: 'dd.MM.yyyy'}}</div>
              </ng-template>
            </app-browser-preview>
          </jnt-col>
          <jnt-col [tablet]="4">
            <jnt-form [formGroup]="form">
              <jnt-form-item>
                <jnt-form-label for="year"
                                i18n="@@label.year">Year</jnt-form-label>
                <jnt-form-control>
                  <jnt-switcher formControlName="year">
                    <jnt-switcher-option label="2020" [value]="2020"></jnt-switcher-option>
                    <jnt-switcher-option label="2010" [value]="2010"></jnt-switcher-option>
                    <jnt-switcher-option label="1980" [value]="1980"></jnt-switcher-option>
                    <jnt-switcher-option label="2005" [value]="2005"></jnt-switcher-option>
                  </jnt-switcher>
                </jnt-form-control>
              </jnt-form-item>

              <jnt-form-item>
                <jnt-form-label for="month"
                                i18n="@@label.month">Month</jnt-form-label>
                <jnt-form-control>
                  <jnt-switcher formControlName="month">
                    <jnt-switcher-option label="March" [value]="month.march"></jnt-switcher-option>
                    <jnt-switcher-option label="May" [value]="month.may"></jnt-switcher-option>
                    <jnt-switcher-option label="July" [value]="month.july"></jnt-switcher-option>
                    <jnt-switcher-option label="April" [value]="month.april"></jnt-switcher-option>
                  </jnt-switcher>
                </jnt-form-control>
              </jnt-form-item>

              <jnt-form-item>
                <jnt-checkbox formControlName="metrics"
                              label="Metrics"
                              i18n-label="@@label.metrics"></jnt-checkbox>
              </jnt-form-item>

              <jnt-form-item>
                <jnt-checkbox formControlName="day"
                              label="Custom template day"
                              i18n-label="@@label.custom_template_day"></jnt-checkbox>
              </jnt-form-item>
            </jnt-form>
          </jnt-col>
        </jnt-row>
      </ng-template>
    </jnt-tab>

    <jnt-tab #code title="Code"
             i18n-title="@@label.code"
             [icon]="localUi.icons.code">
      <ng-template #tabContentTemplate>
        <app-how-to-use
          [test]="{selector:'calendar-test', type: 'CalendarTestComponent'}"
          scss="forms/calendar"></app-how-to-use>
        <app-code-highlight file="calendar-test.template.html">
          <![CDATA[
          <jnt-calendar
            ]]>
            <ng-container *ngIf="yearControl.value">
              <![CDATA[
              [year]="]]>{{yearControl.value}}<![CDATA["]]>
            </ng-container>
            <ng-container *ngIf="monthControl.value">
              <![CDATA[
              [month]="]]>{{monthControl.value}}<![CDATA["]]>
            </ng-container>
            <![CDATA[>]]>
            <ng-container *ngIf="metricsControl.value">
              <![CDATA[
              <ng-template #calendarMetricTemplate let-metric="metric" let-date="date">
                <ng-container [ngSwitch]="metric">
                  <ng-container *ngSwitchCase="0">
                    40m
                  </ng-container>
                  <ng-container *ngSwitchCase="1">
                    10km
                  </ng-container>
                  <ng-container *ngSwitchCase="2">
                    3000
                  </ng-container>
                </ng-container>
              </ng-template>
              <jnt-week-metric title="Time"
                               i18n-title="@@label.time"></jnt-week-metric>
              <jnt-week-metric title="Distance"
                               i18n-title="@@label.distance"></jnt-week-metric>
              <jnt-week-metric title="Сalories"
                               i18n-title="@@label.calories"></jnt-week-metric>
              ]]>
            </ng-container>
            <![CDATA[
          </jnt-calendar>]]>
          <ng-container *ngIf="dayControl.value">
            <![CDATA[
            <ng-template #calendarDayTemplate let-date="date">]]>
              <![CDATA[ <div day>]]>{{<![CDATA[date | dfnsGetDate]]>}}<![CDATA[</div>
            </ng-template>]]>
          </ng-container>
          <![CDATA[
          You choose: ]]>{{<![CDATA[calendarControl.value]]>}}
        </app-code-highlight>
      </ng-template>
    </jnt-tab>

    <jnt-tab title="API" [icon]="localUi.icons.api">
      <ng-template #tabContentTemplate>
        <app-component-api selector="jnt-calendar" [target]="calendar"></app-component-api>
      </ng-template>
    </jnt-tab>
  </jnt-tabs>
</jnt-container>
