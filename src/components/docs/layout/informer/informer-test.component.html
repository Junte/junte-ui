<jnt-container>

  <h1>
    <span i18n="@@label.informer">Informer</span>
  </h1>

  <jnt-stack resources [orientation]="ui.orientation.horizontal">
    <jnt-link [icon]="ui.icons.gitlab"
              [outline]="ui.outline.ghost"
              source="https://gitlab.com/junte/junte-ui/-/tree/master/projects/junte-ui/src/lib/layout/informer"
              target="_blank" title="GitLab">
    </jnt-link>
  </jnt-stack>

  <jnt-stack [align]="ui.flex.align.stretch">
    <jnt-tabs playground>
      <jnt-tab title="Preview"
               i18n-title="@@label.preview"
               [icon]="localUi.icons.preview">
        <ng-template #tabContentTemplate>
          <jnt-row>
            <jnt-col [tablet]="8">
              <app-browser-preview>
                <ng-template #document let-height="height">
                  <jnt-informer *ngIf="!!errors.length" [backdrop]="backdrop" (ok)="errors = []">
                    <jnt-informer-message *ngFor="let error of errors" [message]="error"></jnt-informer-message>
                  </jnt-informer>
                  <jnt-container #page>
                    <jnt-button (click)="add()" text="Add error"></jnt-button>
                  </jnt-container>
                </ng-template>
              </app-browser-preview>
            </jnt-col>
          </jnt-row>
        </ng-template>
      </jnt-tab>

      <jnt-tab #code title="Code"
               i18n-title="@@label.code"
               [icon]="localUi.icons.code">
        <ng-template #tabContentTemplate>
          <jnt-accordion [active]="1">
            <jnt-accordion-section title="How to start"
                                   i18n-title="@@label.how_to_start">
              <ng-template #accordionContentTemplate>
                <app-how-to-use
                  [test]="{selector:'informer-test', type: 'BlockTestComponent'}"
                  scss="layout/informer"></app-how-to-use>
              </ng-template>
            </jnt-accordion-section>
            <jnt-accordion-section title="Component template"
                                   i18n-title="@@label.component_template">
              <ng-template #accordionContentTemplate>
                <app-code-highlight file="informer-test.template.html">
<!-- @formatter:off-->
<![CDATA[
<jnt-informer [backdrop]="backdrop" (ok)="errors = []">
  <jnt-informer-message *ngFor="let error of errors" [message]="error"></jnt-informer-message>
</jnt-informer>
]]>
                  <!-- @formatter:on-->
                </app-code-highlight>
              </ng-template>
            </jnt-accordion-section>
          </jnt-accordion>
        </ng-template>
      </jnt-tab>

      <jnt-tab title="API" [icon]="localUi.icons.api">
        <ng-template #tabContentTemplate>
          <app-component-api selector="jnt-informer" [target]="types.informer"></app-component-api>
        </ng-template>
      </jnt-tab>

    </jnt-tabs>

  </jnt-stack>

</jnt-container>
