@import "../../../assets/styles/variables";

$toggle-font-size: 11px;
$submenu-title-max-width: 200px;
$submenu-items-min-width: 200px;
$submenu-items-link-border-left: 4px;

:host {
  display: block;
  flex: 1;

  &[type='horizontal'] {
    [submenu] {
      padding: $gutter-small $gutter-small $gutter-small $gutter-normal;

      [title] {
        span {
          text-overflow: ellipsis;
          max-width: $submenu-title-max-width;
          display: inline-block;
        }
      }
    }

    [submenuItems] {
      background-color: $primary-background;
      box-shadow: $shadow-normal;
      border-radius: $corner-small;
      position: absolute;
      top: 100% !important;
      left: 0;
      z-index: 1;
      padding: $gutter-small 0;
      width: 100%;
      min-width: $submenu-items-min-width;

      [link][deep-host=#{$jnt-link-host}] {
        border-left: $submenu-items-link-border-left solid transparent;

        &:hover {
          background-color: $highlight-background;
          border-left-color: $primary-color;
        }
      }
    }
  }
}

[submenu] {
  position: relative;
  max-width: 100%;

  * {
    max-width: 100%;
  }

  [toggle] {
    line-height: 0;
    font-size: $toggle-font-size;
  }

  [title] {
    cursor: pointer;
    color: $primary-color;

    [icon] {
      line-height: 0;
    }

    span {
      text-overflow: ellipsis;
      max-width: 100%;
      display: inline-block;
    }
  }
}

[submenuItems] {
  display: none;
  flex-direction: column;

  [link][deep-host=#{$jnt-link-host}] {
    padding: $gutter-small $gutter-normal;

    [title] {
      text-overflow: ellipsis;
      max-width: 100%;
      display: inline-block;
    }
  }

  [submenuTitle] {
    display: none;
    text-overflow: ellipsis;
  }
}

[title] {
  &[opened='true'] {
    & + [submenuItems] {
      display: flex;
    }
  }

  &[active='true'] {
    background-color: $pale-navy-color;
    color: $primary-color;
  }
}
