@import "variables";
@import "components/navigation/link/link";

:host {
  display: block;
  flex: 1;
  &[type='horizontal'] {
    [sub] {
      position: absolute;
      top: 100% !important;
      left: 0;
      z-index: 1;
      background-color: $primary-background;
      box-shadow: $shadow-normal;
      border-radius: $corner-small;
    }
  }
  &[collapsed='true'] {
    [sub] {
      background-color: $primary-background;
      box-shadow: $shadow-normal;
      border-radius: $corner-small;
    }
  }
  &[type='vertical'] {
    [top] {
      width: 100%;
    }
  }
}

[top] {
  position: relative;
  white-space: nowrap;
  box-sizing: border-box;
  [title] {
    padding: $gutter-small $gutter-normal;
    cursor: pointer;
    &:hover {
      background-color: $highlight-background;
    }
    //@include link((
    //  text-overflow: true
    //), '&');

    [link][deep-host=#{$jnt-link-host}] {
      user-select: none;
      a {
        padding: 0;
        > [title] {
          text-overflow: ellipsis;
          overflow: hidden;
          max-width: 100%;
          span {
            vertical-align: middle;
          }
        }
      }
    }
    [toggle] {
      margin-left: $gutter-small;
    }
  }

  [sub] {
    width: 100%;
    min-width: 200px;
    display: none;
    align-items: stretch;
    flex-direction: column;
    > [title] {
      padding: 0 $gutter-normal;
      pointer-events: none;
      span {
        display: block;
        padding: $gutter-normal 0;
        border-bottom: 1px solid $muted-color;
      }
    }
    &[opened='true'] {
      display: flex;
    }

    [link] {
      border-left: 4px solid transparent;
      padding: $gutter-small $gutter-normal;
      &:hover {
        background-color: $highlight-background;
        border-left-color: $primary-color;
      }
      @include link((
        text-overflow: true
      ), '&');
    }
  }
}

