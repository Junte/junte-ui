@import "variables";
@import "common";

$avatar-shape-circle: 'circle';
$avatar-shape-square: 'square';

$avatar-shapes: (
  #{$avatar-shape-circle}: (
    border-radius: 50%
  ),
  #{$avatar-shape-square}: (
    border-radius: 0
  ),
)!default;

@mixin avatar-size($size) {
  min-width: #{map-get($size, size)};
  width: #{map-get($size, size)};
  min-height: #{map-get($size, size)};
  height: #{map-get($size, size)};
  [icon] {
    font-size: #{map-get($size, iconSize)};
  }
  [text] {
    font-size: #{map-get($size, textSize)};
  }
}

@mixin shape($property, $shape) {
  #{$property}: #{map-get($shape, border-radius)};

}

@mixin avatar($passed: (), $context: null, $strategy: 'changes') {

  :host, #{$context} {
    display: flex;
    justify-content: center;
    align-items: center;
    line-height: 0;
    background-color: $secondary-background;
    overflow: hidden;
    @each $size, $map in $avatar-sizes {
      &[size='#{$size}'] {
        @include avatar-size($map);
      }
    }
    @each $shape, $value in $avatar-shapes {
      &[shape='#{$shape}'] {
        @include shape(border-radius, $value);
      }
    }
  }

  [text] {
    color: $primary-color;
    font-weight: $font-weight-bold;
  }

  [icon] {
    color: $secondary-dark-color;
  }

  [image] {
    width: 100%;
    height: 100%;
  }
}
