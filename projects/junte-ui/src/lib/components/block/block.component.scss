@import "../../assets/styles/variables";

$block-bg: white;
$block-shadow: $base-shadow;
$block-corner: $corner-md;
$block-border-width: 1px;
$block-border-color: $gray-900;
$block-loading-bg: rgba(0, 0, 0, .75);
$block-loading-spinner-color: white;

$block-error-bg: rgba($gray-900, 0.8);
$block-error-icon-size: 40px;
$block-error-icon-color: white;

$padding-small-name: 'small';
$padding-normal-name: 'normal';
$padding-large-name: 'large';

$padding: (
  #{$padding-small-name}: (
    padding: $gutter-small
  ),
  #{$padding-normal-name}: (
    padding: $gutter-normal
  ),
  #{$padding-large-name}: (
    padding: $gutter-large
  )
);

@mixin padding($size) {
  padding: #{map-get($size, padding)};
}

:host {
  display: inline-block;
  position: relative;
  min-height: 40px;
  background-color: $block-bg;
  box-shadow: $block-shadow;
  border-radius: $block-corner;
  box-sizing: border-box;
  &[fluid="true"] {
    width: 100%;
  }
  &[type="bordered"] {
    border: $block-border-width solid $block-border-color;
  }

  @each $size, $map in $padding {
    &[padding='#{$size}'] {
      @include padding($map);
    }
  }

  [loading], [error] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: $block-corner;
    [icon] {
      color: $block-error-icon-color;
    }
  }

  [loading] {
    background-color: $block-loading-bg;
    [spinner] {
      border-color: $block-loading-spinner-color;
    }
  }

  [error] {
    background-color: $block-error-bg;
    [icon] {
      font-size: $block-error-icon-size;
    }
  }
}
