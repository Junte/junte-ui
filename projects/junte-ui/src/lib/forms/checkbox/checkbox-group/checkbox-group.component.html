<form [formGroup]="form">
  <ng-container formArrayName="checkboxes">
    <ng-container *ngIf="!!checkboxesControl.length">
      <ng-container *ngIf="cols <= 1; else colTemplate">
        <jnt-stack [gutter]="spacing"
                   [orientation]="orientation"
                   [spacing]="spacing"
                   [align]="orientation === ui.orientation.horizontal ? align: ui.align.start"
                   [wrap]="ui.wrap.wrap">
          <jnt-checkbox *ngFor="let item of checkboxes; let i = index"
                        [formControlName]="i"
                        [size]="size"
                        [label]="item.label"
                        [value]="item.value">
            <ng-template *ngIf="!!item.labelTemplate" #checkboxLabelTemplate>
              <ng-container *ngTemplateOutlet="item.labelTemplate"></ng-container>
            </ng-template>
          </jnt-checkbox>
        </jnt-stack>
      </ng-container>
      <ng-template #colTemplate>
        <jnt-row>
          <jnt-col *ngFor="let item of checkboxes; let i = index" [tablet]="(12 / cols) | trunc">
            <jnt-checkbox [formControlName]="i"
                          [size]="size"
                          [label]="item.label"
                          [value]="item.value">
              <ng-template *ngIf="!!item.labelTemplate" #checkboxLabelTemplate>
                <ng-container *ngTemplateOutlet="item.labelTemplate"></ng-container>
              </ng-template>
            </jnt-checkbox>
          </jnt-col>
        </jnt-row>
      </ng-template>
    </ng-container>
  </ng-container>
</form>


