<ng-template #optionDefaultTemplate
             let-icon="option.icon"
             let-dot="option.dot"
             let-badge="option.badge"
             let-label="option.label"
             let-selected="selected">
  <jnt-dot *ngIf="dot" [color]="dot.color"></jnt-dot>
  <jnt-icon *ngIf="icon" [icon]="icon"></jnt-icon>
  <jnt-icon data-mark
            [icon]="selected ? (mode === selectMode.single ? ui.icons.radioChecked : ui.icons.checkboxChecked) : (mode === selectMode.single ? ui.icons.radioUnchecked : ui.icons.checkboxUnchecked)"></jnt-icon>
  <jnt-stack [type]="ui.layout.stack.type.horizontal"
             [justify]="ui.flex.justify.between"
             [align]="ui.flex.align.center"
             [gutter]="ui.gutter.small"
             data-title>
    <div data-label>{{label}}</div>
    <jnt-badge *ngIf="badge"
               [position]="ui.position.inline"
               [color]="badge.color"
               [text]="badge.text"
               [value]="badge.value"
               [overflow]="badge.overflow">
    </jnt-badge>
  </jnt-stack>
</ng-template>

<jnt-stack data-option *ngFor="let option of options"
           [attr.data-with-template]="option.optionTemplate"
           [attr.data-selected]="option.value | check:selected:keyField:version"
           (click)="select(option.value)"
           [type]="ui.layout.stack.type.horizontal"
           [align]="ui.flex.align.center"
           [gutter]="ui.gutter.small"
           tabindex="0">
  <ng-container
    *ngTemplateOutlet="!!option.optionTemplate ? option.optionTemplate : optionDefaultTemplate; context: {option: option, mode: mode, selected: option.value | check:selected:keyField:version }">
  </ng-container>
</jnt-stack>
