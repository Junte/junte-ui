@import "variables";
@import "forms/button/button";

@mixin button-group($passed: (), $context: null, $strategy: 'changes') {

  $defs: (
    corner: $jnt-corner-large
  );

  $vars: $passed;
  $declare: false;

  @if $passed == () or $strategy == 'merge' {
    $vars: map-merge($defs, $passed);
    $declare: true;
  }

  :host, #{$context} {
    display: flex;
    &[width='fluid'] {
      width: 100%;
      [button] {
        flex: 1;
      }
    }
  }

  #{$context} [button] {

    @include button ((
      padding: 0 $jnt-gutter-normal,
      corner: 0,
      without-text-corner: 0,
    ), '&');


    &:first-child {
      @include button ((
        corners: (
          top: (
            left: map-get($vars, corner),
          ),
          bottom: (
            left: map-get($vars, corner),
          ),
        ),
        borders: (
          right: 0,
        ),
      ), '&');
    }

    &:last-child {
      @include button ((
        corners: (
          top: (
            right: map-get($vars, corner),
          ),
          bottom: (
            right: map-get($vars, corner),
          ),
        ),
        borders: (
          left: 0,
        ),
      ), '&');
    }
  }
}
