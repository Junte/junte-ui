<form [formGroup]="form">
  <jnt-icon *ngIf="!!icon && !label && !multiline"
            [icon]="icon"></jnt-icon>
  <div data-label *ngIf="!!label">{{label}}</div>

  <input #input *ngIf="!!mask; else inputTemplate"
         formControlName="formatted"
         type="string"
         [placeholder]="placeholder"
         [readonly]="readonly ? readonly : null"
         (keydown)="keydown($event)">

  <ng-template #inputTemplate>
    <input *ngIf="!multiline; else textareaTemplate"
           formControlName="input"
           [type]="type === inputType.password && view.password.display ? inputType.text : type"
           [placeholder]="placeholder"
           [readonly]="readonly ? readonly : null"
           [autocomplete]="autocomplete"
           [min]="min"
           [max]="max"
           (blur)="blur()">
  </ng-template>

  <ng-template #textareaTemplate>
      <textarea formControlName="input"
                [placeholder]="placeholder"
                [attr.rows]="rows">
      </textarea>
  </ng-template>

  <div data-loading *ngIf="state === inputState.loading">
    <jnt-spinner data-spinner></jnt-spinner>
  </div>

  <div data-warning *ngIf="state === inputState.warning">
    <jnt-icon [icon]="ui.icons.warning"></jnt-icon>
  </div>

  <div data-checked *ngIf="state === inputState.checked">
    <jnt-icon [icon]="ui.icons.checked"></jnt-icon>
  </div>

  <div data-arrows *ngIf="type === inputType.number">
    <button [disabled]="inputControl.disabled" (click)="up()" tabindex="-1">
      <jnt-icon [icon]="ui.icons.chevronUp"></jnt-icon>
    </button>
    <button [disabled]="inputControl.disabled" (click)="down()" tabindex="-1">
      <jnt-icon [icon]="ui.icons.chevronDown"></jnt-icon>
    </button>
  </div>

  <button data-view *ngIf="type === inputType.password"
          (click)="view.password.display = !view.password.display" tabindex="-1">
    <jnt-icon [icon]="view.password.display ? ui.icons.viewHide : ui.icons.view"></jnt-icon>
  </button>
</form>
