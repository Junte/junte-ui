<ng-template #menuTemplate let-menu="menu" let-orientation="orientation">
  <div data-menu *ngIf="!!menu">
    <jnt-menu [orientation]="orientation"
              (selected)="opened = false">
      <jnt-menu-item *ngFor="let i of menu.items"
                     [title]="i.title"
                     [link]="i.link"
                     [icon]="i.icon"></jnt-menu-item>
    </jnt-menu>
  </div>
</ng-template>

<ng-container *jntMinFor="ui.breakpoint.desktop">
  <div data-logo *ngIf="headerLogoTemplate">
    <ng-container *ngTemplateOutlet="headerLogoTemplate"></ng-container>
  </div>

  <ng-container *ngTemplateOutlet="menuTemplate;context:{menu: menu, orientation: ui.orientation.horizontal}"></ng-container>

  <jnt-stack data-actions [type]="ui.orientation.horizontal"
             [gutter]="ui.gutter.small"
             [align]="ui.flex.align.stretch">
    <div data-content *ngIf="contentTemplate">
      <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>
    </div>
    <ng-container *ngTemplateOutlet="headerActionsTemplate"></ng-container>
    <ng-container *ngTemplateOutlet="headerUserbarTemplate"></ng-container>
  </jnt-stack>
</ng-container>

<ng-container *jntMaxFor="ui.breakpoint.tablet">
  <div data-logo *ngIf="headerLogoTemplate">
    <ng-container *ngTemplateOutlet="headerLogoTemplate"></ng-container>
  </div>
  <jnt-stack data-action
             [type]="ui.layout.stack.type.horizontal"
             [align]="ui.flex.align.center">
    <ng-container *ngTemplateOutlet="headerUserbarTemplate"></ng-container>
    <div data-dropdown>
      <button (click)="opened = !opened">
        <jnt-icon [icon]="ui.icons.actions" [size]="ui.size.large"></jnt-icon>
      </button>
      <div data-menu [attr.data-opened]="opened">
        <ng-container
          *ngTemplateOutlet="menuTemplate;context:{menu: menu, orientation: ui.orientation.vertical}"></ng-container>
        <jnt-stack data-stack [type]="ui.orientation.horizontal"
                   [gutter]="ui.gutter.small"
                   [align]="ui.flex.align.stretch">
          <div data-content>
            <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>
          </div>
          <ng-container *ngTemplateOutlet="headerActionsTemplate"></ng-container>
        </jnt-stack>
      </div>
    </div>
  </jnt-stack>
</ng-container>

